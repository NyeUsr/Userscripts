// ==UserScript==
// @name        Privacy Frontend Redirect - Mini
// @match       *://*/*
// @exclude     *://account*/*
// @exclude     *://message*/*
// @grant       none
// @version     4.2.8
// @author      NoUser
// @description This script redirects to privacy friendly front-ends of popular services, such as YouTube, Twitter, Reddit, Imgur, Instagram, TikTok, etc. Additionally, it replaces iframes and outgoing links to non frontend services with their privacy-friendly counterparts. The purpose of this script is to protect the user's privacy by avoiding the collection of personal data by these services.
// @run-at      document-start
// @namespace   https://github.com/NyeUsr/Userscripts/raw/main/Privacy%20Frontend%20Redirect.user.js
// @homepage    https://github.com/NyeUsr/Userscripts/
// @license     MIT
// ==/UserScript==

const hostname=window.location.hostname,hosts={"www.youtube.com":["invidious.privacydev.net","vid.puffyan.us","inv.vern.cc","invidious.kavin.rocks","invidious.tiekoetter.com","inv.riverside.rocks","iv.ggtyler.dev","invidious.nerdvpn.de"],"www.youtube-nocookie.com":["invidious.privacydev.net","vid.puffyan.us","inv.vern.cc","invidious.kavin.rocks","invidious.tiekoetter.com","inv.riverside.rocks","iv.ggtyler.dev","invidious.nerdvpn.de"],"m.youtube.com":["invidious.privacydev.net","vid.puffyan.us","inv.vern.cc","invidious.kavin.rocks","invidious.tiekoetter.com","inv.riverside.rocks","iv.ggtyler.dev","invidious.nerdvpn.de"],"music.youtube.com":["hyperpipe.surge.sh","hyperpipe.esmailelbob.xyz","music.adminforge.de"],"twitter.com":["nitter.sneed.network","canada.unofficialbird.com","nitter.privacytools.io","nitter.foss.wtf","nitter.privacy.com.de","nitter.1d4.us","nitter.poast.org","twitter.censors.us"],"mobile.twitter.com":["nitter.sneed.network","canada.unofficialbird.com","nitter.privacytools.io","nitter.foss.wtf","nitter.privacy.com.de","nitter.1d4.us","nitter.poast.org","twitter.censors.us"],"www.reddit.com":["libreddit.eu.org","libreddit.spike.codes","lr.odyssey346.dev","rd.funami.tech","libreddit.dcs0.hu","lr.vern.cc","www.troddit.com"],"imgur.com":["rimgo.pussthecat.org","rimgo.totaldarkness.net","rimgo.vern.cc","imgur.artemislena.eu","rimgo.privacydev.net","rimgo.bus-hit.me"],"i.imgur.com":["rimgo.pussthecat.org","rimgo.totaldarkness.net","rimgo.vern.cc","imgur.artemislena.eu","rimgo.privacydev.net","rimgo.bus-hit.me"],"i.stack.imgur.com":["rimgo.pussthecat.org","rimgo.totaldarkness.net","rimgo.vern.cc","imgur.artemislena.eu","rimgo.privacydev.net","rimgo.bus-hit.me"],"www.instagram.com":["bibliogram.froth.zone","ig.tokhmi.xyz"],"www.tiktok.com":["proxitok.pussthecat.org","tok.habedieeh.re","tok.artemislena.eu","proxitok.privacydev.net"],"www.imdb.com":["ld.vern.cc","libremdb.esmailelbob.xyz","lmdb.tokhmi.xyz","libremdb.iket.me","libremdb.pussthecat.org"],"translate.google.com":["simplytranslate.esmailelbob.xyz/?engine=google","simplytranslate.org/?engine=google","simplytranslate.manerakai.com/?engine=google","translate.bus-hit.me/?engine=google","translate.northboot.xyz/?engine=google","translate.tiekoetter.com/?engine=google","tl.vern.cc/?engine=google","translate.slipfox.xyz/?engine=google"],"medium.com":["scribe.rip","scribe.nixnet.services","scribe.citizen4.eu","scribe.bus-hit.me","scribe.froth.zone","scribe.rawbit.ninja"],"www.urbandictionary.com":["rd.vern.cc","ruraldictionary.esmailelbob.xyz"],"stackoverflow.com":["code.whatever.social","overflow.777.tf","ao.vern.cc","overflow.smnz.de","anonymousoverflow.esmailelbob.xyz","overflow.adminforge.de","ao.foss.wtf","overflow.hostux.net"],"www.goodreads.com":["biblioreads.ml","bl.vern.cc","biblioreads.esmailelbob.xyz"],"www.snopes.com":["sd.vern.cc","suds.esmailelbob.xyz"],"www.xvideos.com":["porninvidious.esmailelbob.xyz"],"www.google.com":["whoogle.hostux.net","wg.vern.cc","whoogle.privacydev.net","whoogle.dcs0.hu","search.sethforprivacy.com"],"en.wikipedia.org":["wiki.froth.zone","wikiless.esmailelbob.xyz","wikiless.northboot.xyz","wl.vern.cc"],"de.wikipedia.org":["wiki.adminforge.de"],"www.instructables.com":["destructables.esmailelbob.xyz"],"www.reuters.com":["neuters.de","neuters.esmailelbob.xyz"],"scratch.mit.edu":["scratchgui.esmailelbob.xyz","scratch.machinelearningforkids.co.uk"],"odysee.com":["lbry.projectsegfau.lt","librarian.esmailelbob.xyz"]},replaceUrl=e=>{let{host:i,pathname:o}=new URL(e);if("genius.com"===i&&o.endsWith("-lyrics")){let t=["dm.vern.cc","sing.whatever.social"][Math.floor(.5*Math.random())];return e.replace(i,t)}if(i in hosts){let r=hosts[i];return Array.isArray(r)&&(r=r[Math.floor(Math.random()*r.length)]),e.replace(i,r)}return e};try{let e=hosts[hostname];if(e){let i=replaceUrl(window.location.href);i!==window.location.href&&window.location.replace(i)}else if("genius.com"===hostname&&window.location.pathname.endsWith("-lyrics")){let o=["dm.vern.cc","sing.whatever.social"][Math.floor(.5*Math.random())];window.location.hostname=o}else if(hostname.endsWith(".bandcamp.com")){let t=hostname.slice(0,-13),r=window.location.pathname.split("/");if("search"===r[1]){let s=`https://tent.bloatcat.tk/search.php?query=${r[2]}`;s!==window.location.href&&window.location.replace(s)}else if("img"===r[1]){let n=`https://tent.bloatcat.tk/image.php?file=${r[2]}`;n!==window.location.href&&window.location.replace(n)}else if("stream"===r[1]){let[a,c,l,m,d]=r,g=`https://tent.bloatcat.tk/audio.php?directory=${c}&format=${l}&file=${m}&token=${d}`;g!==window.location.href&&window.location.replace(g)}else{let u=`https://tent.bloatcat.tk/release.php?artist=${t}&type=${r[1]}&name=${r[2]}`;u!==window.location.href&&window.location.replace(u)}}}catch(v){console.error(v.message)}window.addEventListener("load",function(){try{let e=document.querySelectorAll(`iframe[src*="${window.location.host}"]`);e.forEach(e=>{let i=document.createElement("iframe");["src","width","height","frameborder","allowfullscreen","allow","title"].forEach(o=>{e.hasAttribute(o)&&i.setAttribute(o,e.getAttribute(o))}),e.parentNode.replaceChild(i,e)});let i=document.querySelectorAll("a");i.forEach(e=>{let i=e.href,o=replaceUrl(i);o!==i&&(e.href=o)})}catch(o){console.error(o.message)}});
