// ==UserScript==
// @name        Privacy Frontend Redirect - Mini
// @match       *://*/*
// @exclude     *://account*/*
// @exclude     *://messages.*/*
// @grant       none
// @version     3.2.6
// @author      NoUser
// @description This script redirects to privacy friendly front-ends of popular services, such as YouTube, Twitter, Reddit, Imgur, Instagram, TikTok, etc. Additionally, it replaces iframes and outgoing links to non frontend services with their privacy-friendly counterparts. The purpose of this script is to protect the user's privacy by avoiding the collection of personal data by these services.
// @run-at      document-start
// @namespace   https://github.com/NyeUsr/Userscripts/raw/main/Privacy%20Frontend%20Redirect.user.js
// @homepage    https://github.com/NyeUsr/Userscripts/
// @license     MIT
// ==/UserScript==

const hostname=window.location.hostname,hosts={"www.youtube.com":["invidious.privacydev.net","vid.puffyan.us","inv.vern.cc","invidious.kavin.rocks","invidious.tiekoetter.com","inv.riverside.rocks","iv.ggtyler.dev","invidious.namazso.eu","invidious.nerdvpn.de","tube.cadence.moe"],"www.youtube-nocookie.com":["invidious.privacydev.net","vid.puffyan.us","inv.vern.cc","invidious.kavin.rocks","invidious.tiekoetter.com","inv.riverside.rocks","iv.ggtyler.dev","invidious.namazso.eu","invidious.nerdvpn.de","tube.cadence.moe"],"m.youtube.com":["invidious.privacydev.net","vid.puffyan.us","inv.vern.cc","invidious.kavin.rocks","invidious.tiekoetter.com","inv.riverside.rocks","iv.ggtyler.dev","invidious.namazso.eu","invidious.nerdvpn.de","tube.cadence.moe"],"twitter.com":["nitter.sneed.network","canada.unofficialbird.com","nitter.privacytools.io","nitter.foss.wtf","nitter.privacy.com.de","nitter.1d4.us","nitter.poast.org","twitter.censors.us"],"mobile.twitter.com":["nitter.sneed.network","canada.unofficialbird.com","nitter.privacytools.io","nitter.foss.wtf","nitter.privacy.com.de","nitter.1d4.us","nitter.poast.org","twitter.censors.us"],"www.reddit.com":["libreddit.eu.org","libreddit.spike.codes","lr.odyssey346.dev","rd.funami.tech","libreddit.dcs0.hu","lr.vern.cc","www.troddit.com"],"imgur.com":["rimgo.pussthecat.org","rimgo.totaldarkness.net","rimgo.vern.cc","imgur.artemislena.eu","rimgo.privacydev.net","rimgo.bus-hit.me"],"i.imgur.com":["rimgo.pussthecat.org","rimgo.totaldarkness.net","rimgo.vern.cc","imgur.artemislena.eu","rimgo.privacydev.net","rimgo.bus-hit.me"],"i.stack.imgur.com":["rimgo.pussthecat.org","rimgo.totaldarkness.net","rimgo.vern.cc","imgur.artemislena.eu","rimgo.privacydev.net","rimgo.bus-hit.me"],"www.instagram.com":["bibliogram.froth.zone","ig.tokhmi.xyz","bibliogram.priv.pw"],"www.tiktok.com":["proxitok.pussthecat.org","tok.habedieeh.re","tok.artemislena.eu","proxitok.privacydev.net"],"www.imdb.com":["ld.vern.cc","libremdb.esmailelbob.xyz","lmdb.tokhmi.xyz","libremdb.iket.me","libremdb.pussthecat.org"],"translate.google.com":["lingva.ml","translate.plausibility.cloud","lingva.lunar.icu","translate.projectsegfau.lt","translate.jae.fi"],"medium.com":["scribe.rip","scribe.nixnet.services","scribe.citizen4.eu","scribe.bus-hit.me","scribe.froth.zone","scribe.rawbit.ninja"]},getReplacement=e=>{e in hosts||console.log(`No replacement found for host: ${e}`);let i=hosts[e];return Array.isArray(i)&&(i=i[Math.floor(Math.random()*i.length)]),i},replaceUrl=(e,i)=>{try{let r=getReplacement(i);if(r)return e.replace(i,r)}catch(t){console.error(t.message)}return e};try{getReplacement(hostname)&&(window.location.href=replaceUrl(window.location.href,hostname))}catch(e){console.error(e.message)}window.addEventListener("load",function(){try{let e=document.getElementsByTagName("iframe");Array.from(e).forEach(e=>{try{let i=e.src,r=new URL(i).host;e.src=replaceUrl(i,r)}catch(t){console.error(t.message)}});let i=document.getElementsByTagName("a");for(let r=0;r<i.length;r++){let t=i[r],o=t.href,n=new URL(o).host;if(n in hosts){let s=hosts[n];Array.isArray(s)&&(s=s[Math.floor(Math.random()*s.length)]),t.href=o.replace(n,s)}}}catch(a){console.error(a.message)}});
